{
    "version": 3,
    "sources": [
        "../../src/server/utils.js"
    ],
    "names": [
        "fs",
        "require",
        "path",
        "getIp",
        "ip",
        "network",
        "networkInterfaces",
        "iplist",
        "en0",
        "key",
        "length",
        "address",
        "ipModel",
        "family",
        "e",
        "console",
        "log",
        "message",
        "exports",
        "getAllFiles",
        "root",
        "reg",
        "res",
        "files",
        "readdirSync",
        "forEach",
        "file",
        "pathname",
        "stat",
        "lstatSync",
        "isDirectory",
        "fitlPath",
        "resolve",
        "replace",
        "test",
        "push",
        "concat"
    ],
    "mappings": ";;AAAA,IAAIA,KAAKC,QAAQ,IAAR,CAAT;AACA,IAAIC,OAAOD,QAAQ,MAAR,CAAX;;AAEA;AACA,SAASE,KAAT,GAAiB;AACf,MAAIC,KAAK,WAAT;AACA,MAAI;AACF,QAAIC,UAAUJ,QAAQ,IAAR,EAAcK,iBAAd,EAAd;AACA,QAAIC,SAASF,QAAQG,GAArB;;AAEA,QAAID,UAAU,IAAd,EAAoB;AAClB,WAAK,IAAIE,GAAT,IAAgBJ,OAAhB,EAAyB;AACvBE,iBAASF,QAAQI,GAAR,CAAT;AACA;AACD;;AAED,UAAIF,UAAU,IAAd,EAAoB;AAClB,eAAOH,EAAP;AACD;AACF;;AAED,QAAIG,OAAOG,MAAP,IAAiB,CAArB,EAAwB;AACtB,aAAOH,OAAO,CAAP,EAAUI,OAAjB;AACD,KAFD,MAEO;AACL,WAAK,IAAIF,GAAT,IAAgBF,MAAhB,EAAwB;AACtB,YAAIK,UAAUL,OAAOE,GAAP,CAAd;AACA,YAAIG,QAAQC,MAAR,IAAkB,MAAtB,EAA8B;AAC5B,iBAAOD,QAAQD,OAAf;AACD;AACF;AACF;AAEF,GA1BD,CA0BE,OAAOG,CAAP,EAAU;AACVC,YAAQC,GAAR,CAAYF,EAAEG,OAAd;AACD;;AAED,SAAOb,EAAP;AACD;AACDc,QAAQf,KAAR,GAAgBA,KAAhB;;AAEA;;;;AAIA,SAASgB,WAAT,CAAqBC,IAArB,EAA2BC,GAA3B,EAAgC;AAC9B,MAAIC,MAAM,EAAV;;AAEA,MAAIC,QAAQvB,GAAGwB,WAAH,CAAeJ,IAAf,CAAZ;AACAG,QAAME,OAAN,CAAc,UAASC,IAAT,EAAe;AAC3B,QAAIC,WAAWP,OAAO,GAAP,GAAaM,IAA5B;AACA,QAAIE,OAAO5B,GAAG6B,SAAH,CAAaF,QAAb,CAAX;;AAEA,QAAI,CAACC,KAAKE,WAAL,EAAL,EAAyB;AACvB,UAAIC,WAAW7B,KAAK8B,OAAL,CAAaZ,IAAb,EAAmBM,IAAnB,EAAyBO,OAAzB,CAAiC,KAAjC,EAAwC,GAAxC,CAAf;AACA,UAAIZ,OAAO,IAAP,IAAeA,IAAIa,IAAJ,CAASH,QAAT,CAAnB,EAAuC;AACrCT,YAAIa,IAAJ,CAASJ,QAAT;AACD;AACF,KALD,MAKO;AACLT,YAAMA,IAAIc,MAAJ,CAAWjB,YAAYQ,QAAZ,EAAsBN,GAAtB,CAAX,CAAN;AACD;AACF,GAZD;;AAcA,SAAOC,GAAP;AACD;AACDJ,QAAQC,WAAR,GAAsBA,WAAtB",
    "file": "../../src/server/utils.js",
    "sourcesContent": [
        "var fs = require('fs');\nvar path = require('path');\n\n// 获取本机ip地址\nfunction getIp() {\n  var ip = '127.0.0.1';\n  try {\n    var network = require('os').networkInterfaces();\n    var iplist = network.en0;\n\n    if (iplist == null) {\n      for (var key in network) {\n        iplist = network[key];\n        break;\n      }\n\n      if (iplist == null) {\n        return ip;\n      }\n    }\n\n    if (iplist.length == 1) {\n      return iplist[0].address;\n    } else {\n      for (var key in iplist) {\n        var ipModel = iplist[key];\n        if (ipModel.family == 'IPv4') {\n          return ipModel.address;\n        }\n      }\n    }\n\n  } catch (e) {\n    console.log(e.message);\n  }\n\n  return ip;\n};\nexports.getIp = getIp;\n\n/* 读取目录下所有文件\n * @param root 根目录\n * @param reg 文件正则匹配\n */\nfunction getAllFiles(root, reg) {\n  var res = [];\n\n  var files = fs.readdirSync(root);\n  files.forEach(function(file) {\n    var pathname = root + '/' + file;\n    var stat = fs.lstatSync(pathname);\n\n    if (!stat.isDirectory()) {\n      var fitlPath = path.resolve(root, file).replace(/\\\\/g, '/');\n      if (reg == null || reg.test(fitlPath)) {\n        res.push(fitlPath);\n      }\n    } else {\n      res = res.concat(getAllFiles(pathname, reg));\n    }\n  });\n\n  return res;\n};\nexports.getAllFiles = getAllFiles;\n"
    ]
}